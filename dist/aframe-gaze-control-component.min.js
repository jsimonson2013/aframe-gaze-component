!function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("gaze-control",{schema:{enabled:{default:!0},widthSectors:{type:"number",default:3},heightSectors:{type:"number",default:3}},multiple:!1,init:function(){this.previousPosition=new THREE.Vector3,this.deltaPosition=new THREE.Vector3},update:function(e){!this.data.enabled},remove:function(){this.pause()},pause:function(){var e=this.el.sceneEl,t=e.canvas;t.removeEventListener("gazemove",this.onGazeMove)},play:function(){var e=this.el.sceneEl,t=e.canvas;return t?(this.previousPosition.set(0,0,0),void t.addEventListener("gazemove",this.onGazeMove)):void e.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},onGazeMove:function(e){var t=window.innerWidth,i=window.innerHeight,a=i/4,n=t/6,d=25,o=this.pitchObject,l=this.yawObject;this.previousGazeEvent;if(this.data.enabled){if(e.detail.x>0&&e.detail.x<n&&e.detail.y>0&&e.detail.y<a)var r=-d,s=-d;else if(e.detail.x>n&&e.detail.x<t-n&&e.detail.y>0&&e.detail.y<a)var r=0,s=-d;else if(e.detail.x>t-n&&e.detail.x<t&&e.detail.y>0&&e.detail.y<a)var r=d,s=-d;else if(e.detail.x>0&&e.detail.x<n&&e.detail.y>a&&e.detail.y<i-a)var r=-d,s=0;else if(e.detail.x>t-n&&e.detail.x<t&&e.detail.y>a&&e.detail.y<i-a)var r=d,s=0;else if(e.detail.x>0&&e.detail.x<n&&e.detail.y>i-a&&e.detail.y<i)var r=-d,s=d;else if(e.detail.x>n&&e.detail.x<t-n&&e.detail.y>i-a&&e.detail.y<i)var r=0,s=d;else if(e.detail.x>t-n&&e.detail.x<t&&e.detail.y>i-a&&e.detail.y<i)var r=d,s=d;else var r=0,s=0;this.previousGazeEvent=e,l.rotation.y-=.002*r,o.rotation.x-=.002*s,o.rotation.x=Math.max(-PI_2,Math.min(PI_2,o.rotation.x))}}})}]);